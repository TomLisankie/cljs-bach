<html>
<head>
<meta charset="utf-8" />
<meta content="width=device-width, initial-scale=1" name="viewport" />
<title>CLJS Bach</title>
</head>
<body>
<script src="js/compiled/bach.js" type="text/javascript"></script>
<script type="text/javascript">
var context =cljs_bach.synthesis.audio_context();
var synth = cljs_bach.synthesis.connect(cljs_bach.synthesis.triangle(440),
                                        cljs_bach.synthesis.percussive(0.01, 0.4));
var audio_out = cljs_bach.synthesis.destination;

function ping () {
  var now = cljs_bach.synthesis.current_time(context);
  var plugged = cljs_bach.synthesis.connect(synth, audio_out);
  cljs_bach.synthesis.run_with(plugged, context, now, 1.0);
}
</script>
<button onclick="ping()">Ping!</button>
</body>
</html>
